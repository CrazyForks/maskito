"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[3508],{3508:(Y,g,r)=>{r.r(g),r.d(g,{default:()=>O});var k=r(997),A=r(8239),l=r(9900),m=r(391),x=r(5974),d=r(1673),e=r(4537);let Z=(()=>{var t;class s{constructor(){this.value={number:"",name:""},this.cardMask={mask:[...new Array(4).fill(/\d/)," ",...new Array(4).fill(/\d/)," ",...new Array(4).fill(/\d/)," ",...new Array(4).fill(/\d/)]},this.nameMask={mask:/^[a-zA-Z\s]+$/,postprocessors:[({value:a,selection:n})=>({value:a.toUpperCase(),selection:n})]},this.cardPredicate=a=>a.querySelectorAll("input")[0],this.namePredicate=a=>a.querySelectorAll("input")[1],this.asyncPredicate=function(){var a=(0,A.Z)(function*(n){return Promise.resolve(n.querySelectorAll("input")[0])});return function(n){return a.apply(this,arguments)}}()}}return(t=s).\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["test-doc-example-1"]],standalone:!0,features:[e.jDz],decls:9,vars:7,consts:[["tuiGroup","",3,"maskito","maskitoElement"],[3,"ngModel","ngModelChange"],["card",""],["id","async-predicate","tuiGroup","",3,"maskito","maskitoElement"]],template:function(a,n){if(1&a&&(e.TgZ(0,"div",0)(1,"tui-input",1,2),e.NdJ("ngModelChange",function(i){return n.value.number=i}),e._uU(3," Card number "),e.qZA(),e.TgZ(4,"tui-input",1),e.NdJ("ngModelChange",function(i){return n.value.name=i}),e._uU(5,"Name"),e.qZA()(),e.TgZ(6,"div",3)(7,"tui-input",1),e.NdJ("ngModelChange",function(i){return n.value.number=i}),e._uU(8,"Card number"),e.qZA()()),2&a){const u=e.MAs(2);e.Q6J("maskito",u.focused?n.cardMask:n.nameMask)("maskitoElement",u.focused?n.cardPredicate:n.namePredicate),e.xp6(1),e.Q6J("ngModel",n.value.number),e.xp6(3),e.Q6J("ngModel",n.value.name),e.xp6(2),e.Q6J("maskito",n.cardMask)("maskitoElement",n.asyncPredicate),e.xp6(1),e.Q6J("ngModel",n.value.number)}},dependencies:[x.n6,x.gZ,m.ro,d.Qf,d.K3,d.wU,l.u5,l.JJ,l.On],encapsulation:2,changeDetection:0}),s})();var p=r(6730);let j=(()=>{var t;class s{constructor(){this.numberMask=(0,p.f8)({thousandSeparator:" "}),this.hexColorMask={mask:/^[A-F\d]*$/gi,overwriteMode:"replace",postprocessors:[({value:a,selection:n})=>({selection:n,value:a.toUpperCase()})]}}}return(t=s).\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["test-doc-example-2"]],standalone:!0,features:[e.jDz],decls:2,vars:2,consts:[["maxlength","3",3,"maskito"],["maxlength","6",3,"maskito"]],template:function(a,n){1&a&&e._UZ(0,"input",0)(1,"input",1),2&a&&(e.Q6J("maskito",n.numberMask),e.xp6(1),e.Q6J("maskito",n.hexColorMask))},dependencies:[m.ro],encapsulation:2,changeDetection:0}),s})(),J=(()=>{var t;class s{constructor(){this.numberMask=(0,p.f8)({prefix:"$ ",postfix:" per day"})}}return(t=s).\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["test-doc-example-3"]],standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["value","$ 100 per day",3,"maskito"]],template:function(a,n){1&a&&e._UZ(0,"input",0),2&a&&e.Q6J("maskito",n.numberMask)},dependencies:[m.ro],encapsulation:2,changeDetection:0}),s})();var T=r(8692),v=r(3577);let U=(()=>{var t;class s{transform(a){const n=(0,p.f8)({postfix:a,precision:2,thousandSeparator:" "});return{...n,plugins:[...n.plugins,(0,v.D2)()]}}}return(t=s).\u0275fac=function(a){return new(a||t)},t.\u0275pipe=e.Yjl({name:"calculateMask",type:t,pure:!0,standalone:!0}),s})(),F=(()=>{var t;class s{constructor(){this.value="1 year",this.pluralize={one:" year",few:" years",many:" years",other:" years"}}get parsedValue(){return(0,p.vZ)(this.value)}}return(t=s).\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["test-doc-example-4"]],standalone:!0,features:[e.jDz],decls:3,vars:7,consts:[["placeholder","Enter number",3,"maskito","ngModel","ngModelChange"]],template:function(a,n){1&a&&(e.TgZ(0,"input",0),e.NdJ("ngModelChange",function(i){return n.value=i}),e.ALo(1,"calculateMask"),e.ALo(2,"i18nPlural"),e.qZA()),2&a&&e.Q6J("maskito",e.lcZ(1,2,e.xi3(2,4,n.parsedValue,n.pluralize)))("ngModel",n.value)},dependencies:[l.u5,l.Fj,l.JJ,l.On,T.Gx,m.ro,U],encapsulation:2,changeDetection:0}),s})();var c=r(9537),Q=r(4448),h=r(321),f=r(8139);const y=(0,p.rC)({mode:"HH:MM"}),D={...y,plugins:[...y.plugins,(0,v.D2)()]},E=t=>t.querySelector(".real-input"),S=t=>new Promise(s=>{setTimeout(()=>{s(E(t))},2e3)}),w=t=>new Promise(s=>{setTimeout(()=>s((t=>t.querySelector("input"))(t)),7e3)}),N=t=>new Promise(s=>{setTimeout(()=>s(E(t)),500)}),M={display:"none"},C=(0,f.forwardRef)((t,s)=>(0,c.jsxs)("div",{ref:s,children:[(0,c.jsx)("input",{style:M}),(0,c.jsx)("input",{className:"real-input",...t}),(0,c.jsx)("input",{style:M})]})),R=()=>{const[t,s]=(0,f.useState)(!1),o=(0,h.I)({options:D,elementPredicate:S}),a=(0,h.I)({options:D,elementPredicate:t?N:w});return(0,f.useEffect)(()=>{setTimeout(()=>{s(!0)},2e3)},[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(C,{ref:o,id:"async-predicate-2s-resolves",placeholder:"Async predicate (2s)"}),(0,c.jsx)(C,{ref:a,id:"race-condition-check",placeholder:"Race condition check"})]})};let X=(()=>{var t;class s{constructor(a,n){(0,T.NF)(n)&&(0,Q.s)(a.nativeElement).render((0,c.jsx)(R,{}))}}return(t=s).\u0275fac=function(a){return new(a||t)(e.Y36(e.SBq),e.Y36(e.Lbi))},t.\u0275cmp=e.Xpm({type:t,selectors:[["test-doc-example-5"]],standalone:!0,features:[e.jDz],decls:0,vars:0,template:function(a,n){},encapsulation:2,changeDetection:0}),s})(),I=(()=>{var t;class s{constructor(){this.numberMask=(0,p.f8)({prefix:"EUR "})}}return(t=s).\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["test-doc-example-6"]],standalone:!0,features:[e.jDz],decls:1,vars:1,consts:[["placeholder","Type 'E', 'U' or 'R' character","value","",3,"maskito"]],template:function(a,n){1&a&&e._UZ(0,"input",0),2&a&&e.Q6J("maskito",n.numberMask)},dependencies:[m.ro],encapsulation:2,changeDetection:0}),s})();var P=r(9439);function G(t,s){1&t&&(e.TgZ(0,"div",2),e._UZ(1,"test-doc-example-1",3)(2,"test-doc-example-2",4)(3,"test-doc-example-3",5)(4,"test-doc-example-4",6)(5,"test-doc-example-5",7)(6,"test-doc-example-6",8),e.qZA())}let O=(()=>{var t;class s{}return(t=s).\u0275fac=function(a){return new(a||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["cypress-doc-page"]],standalone:!0,features:[e.jDz],decls:2,vars:0,consts:[["header","Cypress"],["pageTab","Tests"],[1,"tests-wrapper"],["id","predicate"],["id","maxlength"],["id","mirrored-prefix-postfix"],["id","runtime-postfix-changes"],["id","react-async-predicate"],["id","multi-character-prefix"]],template:function(a,n){1&a&&(e.TgZ(0,"tui-doc-page",0),e.YNc(1,G,7,0,"ng-template",1),e.qZA())},dependencies:[k.TuiAddonDocModule,P.qo,P.nj,Z,j,J,F,X,I],styles:[".tests-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem}"],changeDetection:0}),s})()}}]);