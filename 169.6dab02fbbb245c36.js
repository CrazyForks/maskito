"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[169],{169:($,y,o)=>{o.r(y),o.d(y,{CypressDocPageModule:()=>Y});var u=o(9808),d=o(4182),M=o(325),P=o(1516),k=o(7557),A=o(9532),v=o(9216),f=o(6679),t=o(5e3),x=o(9440),Z=o(7582),l=o(7258);let F=(()=>{class e{constructor(){this.value={number:"",name:""},this.cardMask={mask:[...new Array(4).fill(/\d/)," ",...new Array(4).fill(/\d/)," ",...new Array(4).fill(/\d/)," ",...new Array(4).fill(/\d/)]},this.nameMask={mask:/^[a-zA-Z\s]+$/,postprocessors:[({value:s,selection:n})=>({value:s.toUpperCase(),selection:n})]},this.cardPredicate=s=>s.querySelectorAll("input")[0],this.namePredicate=s=>s.querySelectorAll("input")[1],this.asyncPredicate=s=>(0,Z.mG)(this,void 0,void 0,function*(){return Promise.resolve(s.querySelectorAll("input")[0])})}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["test-doc-example-1"]],decls:9,vars:7,consts:[["tuiGroup","",3,"maskito","maskitoElement"],[3,"ngModel","ngModelChange"],["card",""],["id","async-predicate","tuiGroup","",3,"maskito","maskitoElement"]],template:function(s,n){if(1&s&&(t.TgZ(0,"div",0)(1,"tui-input",1,2),t.NdJ("ngModelChange",function(p){return n.value.number=p}),t._uU(3," Card number "),t.qZA(),t.TgZ(4,"tui-input",1),t.NdJ("ngModelChange",function(p){return n.value.name=p}),t._uU(5,"Name"),t.qZA()(),t.TgZ(6,"div",3)(7,"tui-input",1),t.NdJ("ngModelChange",function(p){return n.value.number=p}),t._uU(8,"Card number"),t.qZA()()),2&s){const r=t.MAs(2);t.Q6J("maskito",r.focused?n.cardMask:n.nameMask)("maskitoElement",r.focused?n.cardPredicate:n.namePredicate),t.xp6(1),t.Q6J("ngModel",n.value.number),t.xp6(3),t.Q6J("ngModel",n.value.name),t.xp6(2),t.Q6J("maskito",n.cardMask)("maskitoElement",n.asyncPredicate),t.xp6(1),t.Q6J("ngModel",n.value.number)}},directives:[v.gZ,l.r,f.K3,f.wU,d.JJ,d.On],encapsulation:2,changeDetection:0}),e})();var i=o(3358),m=o(9510);let J=(()=>{class e{constructor(){this.numberMask=(0,i.f8)({thousandSeparator:" "}),this.hexColorMask={mask:/^[A-F\d]*$/gi,overwriteMode:"replace",postprocessors:[({value:s,selection:n})=>({selection:n,value:s.toUpperCase()})]}}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["test-doc-example-2"]],decls:2,vars:2,consts:[["maxlength","3",3,"maskito"],["maxlength","6",3,"maskito"]],template:function(s,n){1&s&&t._UZ(0,"input",0)(1,"input",1),2&s&&(t.Q6J("maskito",n.numberMask),t.xp6(1),t.Q6J("maskito",n.hexColorMask))},directives:[m.F,l.r],encapsulation:2,changeDetection:0}),e})(),U=(()=>{class e{constructor(){this.numberMask=(0,i.f8)({prefix:"$ ",postfix:" per day"})}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["test-doc-example-3"]],decls:1,vars:1,consts:[["value","$ 100 per day",3,"maskito"]],template:function(s,n){1&s&&t._UZ(0,"input",0),2&s&&t.Q6J("maskito",n.numberMask)},directives:[m.F,l.r],encapsulation:2,changeDetection:0}),e})();const j=["inputRef"];let Q=(()=>{class e{transform(s){return(0,i.f8)({postfix:s,precision:2,thousandSeparator:" "})}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275pipe=t.Yjl({name:"calculateMask",type:e,pure:!0}),e})(),R=(()=>{class e{constructor(){this.pluralize={one:" year",few:" years",many:" years",other:" years"}}get parsedValue(){return(0,i.vZ)(this.inputRef.nativeElement.value)}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["test-doc-example-4"]],viewQuery:function(s,n){if(1&s&&t.Gf(j,7,t.SBq),2&s){let r;t.iGM(r=t.CRH())&&(n.inputRef=r.first)}},decls:4,vars:6,consts:[["placeholder","Enter number","value","1 year",3,"maskito"],["inputRef",""]],template:function(s,n){1&s&&(t._UZ(0,"input",0,1),t.ALo(2,"calculateMask"),t.ALo(3,"i18nPlural")),2&s&&t.Q6J("maskito",t.lcZ(2,1,t.xi3(3,3,n.parsedValue,n.pluralize)))},directives:[m.F,l.r],pipes:[Q,u.Gx],encapsulation:2,changeDetection:0}),e})();var c=o(8348),S=o(9965),T=o(321),g=o(4284);const h=(0,i.rC)({mode:"HH:MM"}),D=e=>e.querySelector(".real-input"),N=e=>new Promise(a=>{setTimeout(()=>{a(D(e))},2e3)}),X=e=>new Promise(a=>{setTimeout(()=>a((e=>e.querySelector("input"))(e)),7e3)}),G=e=>new Promise(a=>{setTimeout(()=>a(D(e)),500)}),C={display:"none"},E=(0,g.forwardRef)((e,a)=>(0,c.jsxs)("div",Object.assign({ref:a},{children:[(0,c.jsx)("input",{style:C}),(0,c.jsx)("input",Object.assign({className:"real-input"},e)),(0,c.jsx)("input",{style:C})]}))),z=()=>{const[e,a]=(0,g.useState)(!1),s=(0,T.I)({options:h,elementPredicate:N}),n=(0,T.I)({options:h,elementPredicate:e?G:X});return(0,g.useEffect)(()=>{setTimeout(()=>{a(!0)},2e3)},[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(E,{ref:s,id:"async-predicate-2s-resolves",placeholder:"Async predicate (2s)"}),(0,c.jsx)(E,{ref:n,id:"race-condition-check",placeholder:"Race condition check"})]})};let I=(()=>{class e{constructor(s,n){(0,u.NF)(n)&&(0,S.s)(s.nativeElement).render((0,c.jsx)(z,{}))}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(t.SBq),t.Y36(t.Lbi))},e.\u0275cmp=t.Xpm({type:e,selectors:[["test-doc-example-5"]],decls:0,vars:0,template:function(s,n){},encapsulation:2,changeDetection:0}),e})(),B=(()=>{class e{constructor(){this.numberMask=(0,i.f8)({prefix:"EUR "})}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["test-doc-example-6"]],decls:1,vars:1,consts:[["placeholder","Type 'E', 'U' or 'R' character","value","",3,"maskito"]],template:function(s,n){1&s&&t._UZ(0,"input",0),2&s&&t.Q6J("maskito",n.numberMask)},directives:[m.F,l.r],encapsulation:2,changeDetection:0}),e})();function O(e,a){1&e&&(t.TgZ(0,"div",2),t._UZ(1,"test-doc-example-1",3)(2,"test-doc-example-2",4)(3,"test-doc-example-3",5)(4,"test-doc-example-4",6)(5,"test-doc-example-5",7)(6,"test-doc-example-6",8),t.qZA())}let V=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["cypress-doc-page"]],decls:2,vars:0,consts:[["header","Cypress"],["pageTab","Tests"],[1,"tests-wrapper"],["id","predicate"],["id","maxlength"],["id","mirrored-prefix-postfix"],["id","runtime-postfix-changes"],["id","react-async-predicate"],["id","multi-character-prefix"]],template:function(s,n){1&s&&(t.TgZ(0,"tui-doc-page",0),t.YNc(1,O,7,0,"ng-template",1),t.qZA())},directives:[x.qo,x.nj,F,J,U,R,I,B],styles:[".tests-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem}"],changeDetection:0}),e})(),Y=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,d.u5,P.U5,f.Qf,v.n6,k.TuiAddonDocModule,M.Bz.forChild((0,A.Ve)(V))]]}),e})()}}]);