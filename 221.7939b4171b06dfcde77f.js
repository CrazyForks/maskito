"use strict";(self.webpackChunkmaskito=self.webpackChunkmaskito||[]).push([[221],{2221:(ce,k,A)=>{A.d(k,{tr:()=>G,n9:()=>F,f8:()=>J,rC:()=>se});var v=A(3533);function E(n,e,t=0){return Number(n.padEnd(e.length,"0"))<=Number(e)?{validatedSegmentValue:n,prefixedZeroesCount:t}:n.endsWith("0")?E(`0${n.slice(0,e.length-1)}`,e,t+1):E(`${n.slice(0,e.length-1)}0`,e,t)}function P(n,e){const t=e.replace(/[^dmy]/g,""),s=n.replace(/\D+/g,""),r=t.indexOf("d"),o=t.indexOf("m"),i=t.indexOf("y"),c={day:s.slice(r,r+2),month:s.slice(o,o+2),year:s.slice(i,t.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(c).filter(([a,l])=>Boolean(l)).sort(([a],[l])=>e.toLowerCase().indexOf(a[0])>e.toLowerCase().indexOf(l[0])?1:-1))}function w({day:n,month:e,year:t},s){var r;const o=2===(null===(r=s.match(/y/g))||void 0===r?void 0:r.length)?null==t?void 0:t.slice(-2):t;return s.replace(/d+/g,null!=n?n:"").replace(/m+/g,null!=e?e:"").replace(/y+/g,null!=o?o:"").replace(/^\D+/g,"").replace(/\D+$/g,"")}const y=n=>{var e,t,s;return{day:(null===(e=n.match("/d/g"))||void 0===e?void 0:e.length)||2,month:(null===(t=n.match("/m/g"))||void 0===t?void 0:t.length)||2,year:(null===(s=n.match("/y/g"))||void 0===s?void 0:s.length)||4}},C={day:31,month:12,year:9999};function M({dateString:n,dateModeTemplate:e,offset:t,selection:[s,r]}){const o=P(n,e),i=Object.entries(o),c={};for(const[a,l]of i){const g=w(c,e),d=C[a],f=t+g.length+(g.length&&1)+y(n)[a];if(f>=s&&f<=r&&Number(l)>Number(d))return{validatedDateString:"",updatedSelection:[s,r]};const{validatedSegmentValue:m,prefixedZeroesCount:h}=E(l,`${d}`);r+=h,c[a]=m}return{validatedDateString:w(c,e),updatedSelection:[s,r]}}const $="\xa0\u2013\xa0";function O(n,e){return({elementState:t,data:s})=>{const r=s.replace(/\D+/g,"");if(!r)return{elementState:t,data:""};const{value:o,selection:i}=t,[c,a]=i;let l=a+s.length;const g=o.slice(0,c)+r+o.slice(l),d=g.replace($,"").match(new RegExp(`.{1,${n.length}}`,"g"))||[];let u="";const f=g.includes($);for(const m of d){const{validatedDateString:h,updatedSelection:b}=M({dateString:m,dateModeTemplate:n,offset:u?u.length+$.length:0,selection:[c,l]});if(m&&!h)return{elementState:t,data:""};l=b[1]+h.length-m.length,u+=f&&u?$+h:h}const p=u.slice(c,l);return{elementState:{selection:i,value:u.slice(0,c)+p.split(e).map(m=>"0".repeat(m.length)).join(e)+u.slice(l)},data:p.replaceAll(e,"")}}}function V({min:n=new Date("0001-01-01"),max:e=new Date("9999-12-31")},t){return s=>{const{value:r,selection:o}=s;if(r.length<t.length)return s;const c=function(n){var e,t,s;const r=2===(null===(e=n.year)||void 0===e?void 0:e.length)?`20${n.year}`:n.year;return new Date(Number(null!=r?r:"0"),Number(null!==(t=n.month)&&void 0!==t?t:"0")-1,Number(null!==(s=n.day)&&void 0!==s?s:"0"))}(P(r,t));return c<n||c>e?{selection:o,value:w(function(n){return{day:String(n.getDate()).padStart(2,"0"),month:String(n.getMonth()+1).padStart(2,"0"),year:String(n.getFullYear()).padStart(4,"0")}}(c<n?n:e),t)}:s}}function G({mode:n,separator:e=".",max:t,min:s}){const r=n.split("/").join(e);return{mask:Array.from(r).map(o=>o===e?o:/\d/),overwriteMode:"replace",preprocessor:(0,v.Zu)(({elementState:n},e)=>{const{value:t,selection:s}=n;if(!t||function(n,[e,t]){return t===n.length}(t,s))return{elementState:n};const[r,o]=s,i=t.slice(r,o).replace(/\d/g,"0"),c=t.slice(0,r)+i+t.slice(o);return"validation"===e||"insert"===e&&r===o?{elementState:{selection:s,value:c}}:{elementState:{selection:"deleteBackward"===e||"insert"===e?[r,r]:[o,o],value:c}}},O(r,e)),postprocessor:V({min:s,max:t},r)}}function F({mode:n,separator:e="."}){const t=n.split("/").join(e),s=Array.from(t).map(r=>r===e?r:/\d/);return{mask:[...s,"\xa0","\u2013","\xa0",...s],overwriteMode:"replace",preprocessor:(0,v.Zu)(({elementState:n},e)=>{const{value:t,selection:s}=n;if(!t||function(n,[e,t]){return t===n.length}(t,s))return{elementState:n};const[r,o]=s,i=t.slice(r,o).replace(/\d/g,"0"),c=t.slice(0,r)+i+t.slice(o);return"validation"===e||"insert"===e&&r===o?{elementState:{selection:s,value:c}}:{elementState:{selection:"deleteBackward"===e||"insert"===e?[r,r]:[o,o],value:c}}},O(t,e))}}function Z(n,e){const t=new RegExp(`[${e.join("")}]`,"gi");return({elementState:s,data:r})=>{const{value:o,selection:i}=s;return{elementState:{selection:i,value:o.replace(t,n)},data:r.replace(t,n)}}}function W({decimalSeparator:n,precision:e}){return({elementState:t,data:s})=>{const{value:r,selection:o}=t,[i]=o;return e<=0||r.includes(n)||!s.startsWith(n)?{elementState:t,data:s}:{elementState:t,data:r.slice(0,i)?s:`0${s}`}}}function B({decimalSeparator:n,thousandSeparator:e,decimalZeroPadding:t}){return({elementState:s,data:r},o)=>{const{value:i,selection:c}=s,[a,l]=c,g=i.slice(a,l);return"deleteBackward"!==o&&"deleteForward"!==o||!(t?[n,e]:[e]).includes(g)?{elementState:s,data:r}:{elementState:{value:i,selection:"deleteForward"===o?[l,l]:[a,a]},data:r}}}function H(n){return({value:e,selection:t})=>{const[s,r]=t,o=e.includes(n),[i,c=""]=e.split(n),a=i.replace(/^0+/,"0"),l=a.length>1&&a.startsWith("0")?a.slice(1):a,g=i.length-l.length;return{value:l+(o?n:"")+c,selection:[Math.max(s-g,0),Math.max(r-g,0)]}}}function U({max:n,thousandSeparator:e,decimalSeparator:t}){return({value:s,selection:r})=>{if(Number(s.replace(new RegExp(e,"g"),"").replace(t,"."))>n){const i=`${n}`.replace(".",t);return{value:i,selection:[i.length,i.length]}}return{value:s,selection:r}}}function X({thousandSeparator:n,decimalSeparator:e}){return({value:t,selection:s})=>{const[r,o=""]=t.split(e),[i,c]=s;let[a,l]=s;const g=Array.from(r.replace(/^-/,"")).reduceRight((d,u,f)=>{const p=d.length&&(d.length+1)%4==0;return u===n&&p?u+d:u!==n||p?p?(f<=i&&a++,f<=c&&l++,u+n+d):u+d:(f<=i&&a--,f<=c&&l--,d)},"");return{value:(t.startsWith("-")?"-":"")+g+(t.includes(e)?e:"")+o,selection:[a,l]}}}function Y({decimalSeparator:n,precision:e,decimalZeroPadding:t}){return e<=0||!t?s=>s:({value:s,selection:r})=>{const[o,i=""]=s.split(n);return s.includes(n)||o?{value:o+n+i.padEnd(e,"0"),selection:r}:{value:s,selection:r}}}function z({decimalSeparator:n,thousandSeparator:e}){return","===n||"."===n?[".",",","\u0431","\u044e"].filter(t=>t!==e&&t!==n):[]}function K({decimalSeparator:n,isNegativeAllowed:e,precision:t,thousandSeparator:s}){const o=e?"-?":"",i=`[\\d\\${s}]*`;return t>0?new RegExp(`^${o}${i}(\\${n}\\d{0,${t}})?$`):new RegExp(`^${o}${i}$`)}function J({max:n=Number.MAX_SAFE_INTEGER,isNegativeAllowed:e=!0,precision:t=0,thousandSeparator:s="\xa0",decimalSeparator:r=",",decimalPseudoSeparators:o=z({decimalSeparator:r,thousandSeparator:s}),decimalZeroPadding:i=!1}={}){return{mask:K({decimalSeparator:r,precision:t,thousandSeparator:s,isNegativeAllowed:e}),preprocessor:(0,v.Zu)(Z(r,o),W({decimalSeparator:r,precision:t}),B({decimalSeparator:r,decimalZeroPadding:i,thousandSeparator:s})),postprocessor:(0,v.Zu)(H(r),U({decimalSeparator:r,max:n,thousandSeparator:s}),X({decimalSeparator:r,thousandSeparator:s}),Y({decimalSeparator:r,decimalZeroPadding:i,precision:t})),overwriteMode:i?({value:c,selection:[a]})=>a<=c.indexOf(r)?"shift":"replace":"shift"}}const Q={hours:23,minutes:59,seconds:59,milliseconds:999},q=[":","."],x={hours:2,minutes:2,seconds:2,milliseconds:3};function N({hours:n="",minutes:e="",seconds:t="",milliseconds:s=""}){return`${n}${e&&`:${e}`}${t&&`:${t}`}${s&&`.${s}`}`}function ne(n){const e=function(n){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,`${t}`.padEnd(x[e],"0")]))}(n);return({elementState:t,data:s})=>{const r=s.replace(/\D+/g,"");if(!r)return{elementState:t,data:""};const{value:o,selection:i}=t,[c,a]=i;let l=a+r.length;const g=o.slice(0,c)+r+o.slice(l),d=Object.entries(function(n){const e=n.replace(/\D+/g,""),t={hours:e.slice(0,2),minutes:e.slice(2,4),seconds:e.slice(4,6),milliseconds:e.slice(6,9)};return Object.fromEntries(Object.entries(t).filter(([s,r])=>Boolean(r)))}(g)),u={};for(const[m,h]of d){const b=N(u),R=e[m],T=b.length+(b.length&&1)+x[m];if(T>=c&&T<=l&&Number(h)>Number(R))return{elementState:t,data:""};const{validatedSegmentValue:oe,prefixedZeroesCount:ie}=E(h,R);l+=ie,u[m]=oe}const f=N(u);l=f.length-o.slice(l).length;const p=f.slice(c,l);return{elementState:{selection:i,value:f.slice(0,c)+"0".repeat(p.length)+f.slice(l)},data:p}}}function se({mode:n,timeSegmentMaxValues:e={}}){const t=Object.assign(Object.assign({},Q),e);return{mask:Array.from(n).map(s=>q.includes(s)?s:/\d/),preprocessor:(0,v.Zu)(({elementState:n},e)=>{const{value:t,selection:s}=n;if(!t||function(n,[e,t]){return t===n.length}(t,s))return{elementState:n};const[r,o]=s,i=t.slice(r,o).replace(/\d/g,"0"),c=t.slice(0,r)+i+t.slice(o);return"validation"===e||"insert"===e&&r===o?{elementState:{selection:s,value:c}}:{elementState:{selection:"deleteBackward"===e||"insert"===e?[r,r]:[o,o],value:c}}},ne(t)),overwriteMode:"replace"}}}}]);