"use strict";(self.webpackChunkmaskito=self.webpackChunkmaskito||[]).push([[105],{2105:(ue,T,N)=>{N.d(T,{tr:()=>H,n9:()=>B,f8:()=>ee,rC:()=>ie});var D=N(3533);function M(e,t,n){const s=Math.min(Number(n),Math.max(Number(t),Number(e)));return e instanceof Date?new Date(s):s}function I(e){return{day:String(e.getDate()).padStart(2,"0"),month:String(e.getMonth()+1).padStart(2,"0"),year:String(e.getFullYear()).padStart(4,"0")}}function j(e,t){return!(e.length<t.length)&&e.split(/\D/).every(n=>!n.match(/^0+$/))}function $(e){return e.reduce((t,[n,s])=>Object.assign(Object.assign({},t),{[n]:s}),{})}function x(e,t){const n=t.replace(/[^dmy]/g,""),s=e.replace(/\D+/g,""),r=n.indexOf("d"),o=n.indexOf("m"),i=n.indexOf("y"),c={day:s.slice(r,r+2),month:s.slice(o,o+2),year:s.slice(i,n.lastIndexOf("y")+1)};return $(Object.entries(c).filter(([l,a])=>Boolean(a)).sort(([l],[a])=>t.toLowerCase().indexOf(l[0])>t.toLowerCase().indexOf(a[0])?1:-1))}function L(e){var t,n,s;const r=2===(null===(t=e.year)||void 0===t?void 0:t.length)?`20${e.year}`:e.year;return new Date(Number(null!=r?r:"0"),Number(null!==(n=e.month)&&void 0!==n?n:"1")-1,Number(null!==(s=e.day)&&void 0!==s?s:"1"))}function w({day:e,month:t,year:n},s){var r;const o=2===(null===(r=s.match(/y/g))||void 0===r?void 0:r.length)?null==n?void 0:n.slice(-2):n;return s.replace(/d+/g,null!=e?e:"").replace(/m+/g,null!=t?t:"").replace(/y+/g,null!=o?o:"").replace(/^\D+/g,"").replace(/\D+$/g,"")}function E(e,t,n=0){return Number(e.padEnd(t.length,"0"))<=Number(t)?{validatedSegmentValue:e,prefixedZeroesCount:n}:e.endsWith("0")?E(`0${e.slice(0,t.length-1)}`,t,n+1):E(`${e.slice(0,t.length-1)}0`,t,n)}const V=e=>{var t,n,s;return{day:(null===(t=e.match("/d/g"))||void 0===t?void 0:t.length)||2,month:(null===(n=e.match("/m/g"))||void 0===n?void 0:n.length)||2,year:(null===(s=e.match("/y/g"))||void 0===s?void 0:s.length)||4}},F={day:31,month:12,year:9999};function G({dateString:e,dateModeTemplate:t,offset:n,selection:[s,r]}){const o=x(e,t),i=Object.entries(o),c={};for(const[l,a]of i){const g=w(c,t),d=F[l],u=n+g.length+(g.length&&1)+V(e)[l];if(u>=s&&u<=r&&Number(a)>Number(d))return{validatedDateString:"",updatedSelection:[s,r]};const{validatedSegmentValue:h,prefixedZeroesCount:m}=E(a,`${d}`);r+=m,c[l]=h}return{validatedDateString:w(c,t),updatedSelection:[s,r]}}function P(e,t){return e.match(new RegExp(`.{1,${t}}`,"g"))||[]}function O({dateModeTemplate:e,min:t=new Date("0001-01-01"),max:n=new Date("9999-12-31"),datesSeparator:s=""}){return({value:r,selection:o})=>{const i=P(r.replace(s,""),e.length);let c="";for(const l of i)c+=c?s:"",j(l,e)?c+=w(I(M(L(x(l,e)),t,n)),e):c+=l;return{selection:o,value:c}}}function R({dateModeTemplate:e,dateSegmentsSeparator:t,datesSeparator:n=""}){return({elementState:s,data:r})=>{const o=r.replace(/\D+/g,"");if(!o)return{elementState:s,data:""};const{value:i,selection:c}=s,[l,a]=c;let g=a+r.length;const d=i.slice(0,l)+o+i.slice(g),f=P(d.replace(n,""),e.length);let u="";const p=Boolean(n)&&d.includes(n);for(const m of f){const{validatedDateString:v,updatedSelection:b}=G({dateString:m,dateModeTemplate:e,offset:u?u.length+n.length:0,selection:[l,g]});if(m&&!v)return{elementState:s,data:""};g=b[1]+v.length-m.length,u+=p&&u?n+v:v}const h=u.slice(l,g);return{elementState:{selection:c,value:u.slice(0,l)+h.split(t).map(m=>"0".repeat(m.length)).join(t)+u.slice(g)},data:h.replace(new RegExp(`\\${t}`,"g"),"")}}}function H({mode:e,separator:t=".",max:n,min:s}){const r=e.split("/").join(t);return{mask:Array.from(r).map(o=>o===t?o:/\d/),overwriteMode:"replace",preprocessor:(0,D.Zu)(({elementState:e},t)=>{const{value:n,selection:s}=e;if(!n||function(e,[t,n]){return n===e.length}(n,s))return{elementState:e};const[r,o]=s,i=n.slice(r,o).replace(/\d/g,"0"),c=n.slice(0,r)+i+n.slice(o);return"validation"===t||"insert"===t&&r===o?{elementState:{selection:s,value:c}}:{elementState:{selection:"deleteBackward"===t||"insert"===t?[r,r]:[o,o],value:c}}},R({dateModeTemplate:r,dateSegmentsSeparator:t})),postprocessor:O({min:s,max:n,dateModeTemplate:r})}}const A="\xa0\u2013\xa0";function B({mode:e,separator:t=".",min:n,max:s}){const r=e.split("/").join(t),o=Array.from(r).map(i=>i===t?i:/\d/);return{mask:[...o,...A,...o],overwriteMode:"replace",preprocessor:(0,D.Zu)(({elementState:e},t)=>{const{value:n,selection:s}=e;if(!n||function(e,[t,n]){return n===e.length}(n,s))return{elementState:e};const[r,o]=s,i=n.slice(r,o).replace(/\d/g,"0"),c=n.slice(0,r)+i+n.slice(o);return"validation"===t||"insert"===t&&r===o?{elementState:{selection:s,value:c}}:{elementState:{selection:"deleteBackward"===t||"insert"===t?[r,r]:[o,o],value:c}}},R({dateModeTemplate:r,dateSegmentsSeparator:t,datesSeparator:A})),postprocessor:O({min:n,max:s,dateModeTemplate:r,datesSeparator:A})}}function W(e,t){const n=new RegExp(`[${t.join("")}]`,"gi");return({elementState:s,data:r})=>{const{value:o,selection:i}=s;return{elementState:{selection:i,value:o.replace(n,e)},data:r.replace(n,e)}}}function U({decimalSeparator:e,precision:t}){return({elementState:n,data:s})=>{const{value:r,selection:o}=n,[i]=o;return t<=0||r.includes(e)||!s.startsWith(e)?{elementState:n,data:s}:{elementState:n,data:r.slice(0,i)?s:`0${s}`}}}function X({decimalSeparator:e,thousandSeparator:t,decimalZeroPadding:n}){return({elementState:s,data:r},o)=>{const{value:i,selection:c}=s,[l,a]=c,g=i.slice(l,a);return"deleteBackward"!==o&&"deleteForward"!==o||!(n?[e,t]:[t]).includes(g)?{elementState:s,data:r}:{elementState:{value:i,selection:"deleteForward"===o?[a,a]:[l,l]},data:r}}}function Y(e){return({value:t,selection:n})=>{const[s,r]=n,o=t.includes(e),[i,c=""]=t.split(e),l=i.replace(/^0+/,"0"),a=l.length>1&&l.startsWith("0")?l.slice(1):l,g=i.length-a.length;return{value:a+(o?e:"")+c,selection:[Math.max(s-g,0),Math.max(r-g,0)]}}}function z({max:e,thousandSeparator:t,decimalSeparator:n}){return({value:s,selection:r})=>{if(Number(s.replace(new RegExp(t,"g"),"").replace(n,"."))>e){const i=`${e}`.replace(".",n);return{value:i,selection:[i.length,i.length]}}return{value:s,selection:r}}}function K({thousandSeparator:e,decimalSeparator:t}){return({value:n,selection:s})=>{const[r,o=""]=n.split(t),[i,c]=s;let[l,a]=s;const g=Array.from(r.replace(/^-/,"")).reduceRight((d,f,u)=>{const p=d.length&&(d.length+1)%4==0;return f===e&&p?f+d:f!==e||p?p?(u<=i&&l++,u<=c&&a++,f+e+d):f+d:(u<=i&&l--,u<=c&&a--,d)},"");return{value:(n.startsWith("-")?"-":"")+g+(n.includes(t)?t:"")+o,selection:[l,a]}}}function J({decimalSeparator:e,precision:t,decimalZeroPadding:n}){return t<=0||!n?s=>s:({value:s,selection:r})=>{const[o,i=""]=s.split(e);return s.includes(e)||o?{value:o+e+i.padEnd(t,"0"),selection:r}:{value:s,selection:r}}}function Q({decimalSeparator:e,thousandSeparator:t}){return","===e||"."===e?[".",",","\u0431","\u044e"].filter(n=>n!==t&&n!==e):[]}function q({decimalSeparator:e,isNegativeAllowed:t,precision:n,thousandSeparator:s}){const o=t?"-?":"",i=`[\\d\\${s}]*`;return n>0?new RegExp(`^${o}${i}(\\${e}\\d{0,${n}})?$`):new RegExp(`^${o}${i}$`)}function ee({max:e=Number.MAX_SAFE_INTEGER,isNegativeAllowed:t=!0,precision:n=0,thousandSeparator:s="\xa0",decimalSeparator:r=",",decimalPseudoSeparators:o=Q({decimalSeparator:r,thousandSeparator:s}),decimalZeroPadding:i=!1}={}){return{mask:q({decimalSeparator:r,precision:n,thousandSeparator:s,isNegativeAllowed:t}),preprocessor:(0,D.Zu)(W(r,o),U({decimalSeparator:r,precision:n}),X({decimalSeparator:r,decimalZeroPadding:i,thousandSeparator:s})),postprocessor:(0,D.Zu)(Y(r),z({decimalSeparator:r,max:e,thousandSeparator:s}),K({decimalSeparator:r,thousandSeparator:s}),J({decimalSeparator:r,decimalZeroPadding:i,precision:n})),overwriteMode:i?({value:c,selection:[l]})=>l<=c.indexOf(r)?"shift":"replace":"shift"}}const te={hours:23,minutes:59,seconds:59,milliseconds:999},ne=[":","."],k={hours:2,minutes:2,seconds:2,milliseconds:3};function y({hours:e="",minutes:t="",seconds:n="",milliseconds:s=""}){return`${e}${t&&`:${t}`}${n&&`:${n}`}${s&&`.${s}`}`}function oe(e){const t=function(e){return $(Object.entries(e).map(([t,n])=>[t,`${n}`.padEnd(k[t],"0")]))}(e);return({elementState:n,data:s})=>{const r=s.replace(/\D+/g,"");if(!r)return{elementState:n,data:""};const{value:o,selection:i}=n,[c,l]=i;let a=l+r.length;const g=o.slice(0,c)+r+o.slice(a),d=Object.entries(function(e){const t=e.replace(/\D+/g,""),n={hours:t.slice(0,2),minutes:t.slice(2,4),seconds:t.slice(4,6),milliseconds:t.slice(6,9)};return $(Object.entries(n).filter(([s,r])=>Boolean(r)))}(g)),f={};for(const[h,m]of d){const v=y(f),b=t[h],C=v.length+(v.length&&1)+k[h];if(C>=c&&C<=a&&Number(m)>Number(b))return{elementState:n,data:""};const{validatedSegmentValue:le,prefixedZeroesCount:ae}=E(m,b);a+=ae,f[h]=le}const u=y(f);a=u.length-o.slice(a).length;const p=u.slice(c,a);return{elementState:{selection:i,value:u.slice(0,c)+"0".repeat(p.length)+u.slice(a)},data:p}}}function ie({mode:e,timeSegmentMaxValues:t={}}){const n=Object.assign(Object.assign({},te),t);return{mask:Array.from(e).map(s=>ne.includes(s)?s:/\d/),preprocessor:(0,D.Zu)(({elementState:e},t)=>{const{value:n,selection:s}=e;if(!n||function(e,[t,n]){return n===e.length}(n,s))return{elementState:e};const[r,o]=s,i=n.slice(r,o).replace(/\d/g,"0"),c=n.slice(0,r)+i+n.slice(o);return"validation"===t||"insert"===t&&r===o?{elementState:{selection:s,value:c}}:{elementState:{selection:"deleteBackward"===t||"insert"===t?[r,r]:[o,o],value:c}}},oe(n)),overwriteMode:"replace"}}}}]);