!function(){"use strict";function e(t,n){return(e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,a=r(e);if(t){var o=r(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return n(this,i)}}function n(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,a=void 0,"symbol"==typeof(a=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"))?a:String(a)),r)}var i,a}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkmaskito=self.webpackChunkmaskito||[]).push([[2905],{42905:function(e,t,n){n.d(t,{U5:function(){return a}}),n(49510),n(47258);var r,i=n(74788),a=((r=l(function e(){c(this,e)})).\u0275fac=function(e){return new(e||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({}),r);n(40635)},49510:function(e,t,n){n.d(t,{F:function(){return u}});var r,i=n(23738),a=n(7383),o=n(74788),u=((r=l(function e(t){var n=this;c(this,e),this.accessor=t,this.maskito=a.A_;var r=t.writeValue.bind(t);t.writeValue=function(e){r((0,a.CV)(String(null!=e?e:""),n.maskito))}})).\u0275fac=function(e){return new(e||r)(o.Y36(i.Fj))},r.\u0275dir=o.lG2({type:r,selectors:[["input","maskito",""],["textarea","maskito",""]],hostBindings:function(e,t){1&e&&o.NdJ("input",function(e){return t.accessor._handleInput(e.target.value)})("blur",function(){return t.accessor.onTouched()})("compositionstart",function(){return t.accessor._compositionStart()})("compositionend",function(e){return t.accessor._compositionEnd(e.target.value)})},inputs:{maskito:"maskito"},features:[o._Bn([i.Fj,{provide:i.JU,multi:!0,useExisting:i.Fj}])]}),r)},47258:function(e,t,n){n.d(t,{r:function(){return o}});var r,i=n(74788),a=n(7383),o=((r=function(){function e(t){c(this,e),this.elementRef=t,this.maskedElement=null,this.maskito=a.A_,this.maskitoElement=function(e){return e.querySelector("input,textarea")||e}}return l(e,[{key:"ngOnChanges",value:function(){var e;null===(e=this.maskedElement)||void 0===e||e.destroy(),this.maskedElement=new a.C8(this.maskitoElement(this.elementRef.nativeElement),this.maskito)}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.maskedElement)||void 0===e||e.destroy()}}]),e}()).\u0275fac=function(e){return new(e||r)(i.Y36(i.SBq))},r.\u0275dir=i.lG2({type:r,selectors:[["","maskito",""]],inputs:{maskito:"maskito",maskitoElement:"maskitoElement"},features:[i.TTD]}),r)},40635:function(e,t,n){n.d(t,{c:function(){return o}});var r,i=n(7383),a=n(74788),o=((r=function(){function e(){c(this,e)}return l(e,[{key:"transform",value:function(e,t){return(0,i.CV)(String(null!=e?e:""),t)}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275pipe=a.Yjl({name:"maskito",type:r,pure:!0}),r)},7383:function(n,r,o){function u(e){return e}o.d(r,{A_:function(){return s},C8:function(){return A},Zu:function(){return F},CV:function(){return O}});var s={mask:/^.*$/,preprocessor:u,postprocessor:u,overwriteMode:"shift"};function f(e){return"string"==typeof e}function v(e,t,n,r){for(var i="",a=t.length;a<e.length;a++){var o=e[a],u=(null==r?void 0:r.value[a])===o;if(!f(o)||o===n&&!u)return i;i+=o}return i}function h(e,t){return Array.isArray(t)?e.length===t.length&&Array.from(e).every(function(e,n){var r=t[n];return f(r)?e===r:e.match(r)}):t.test(e)}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(h(e.value,t))return e;var r=Array.isArray(t)?function(e,t,n){var r=null,i=null,a=Array.from(e.value).reduce(function(a,o,u){var s=a+v(t,a,o,n),l=t[s.length];return f(l)?s+l:o.match(l)?(null===r&&u>=e.selection[0]&&(r=s.length),null===i&&u>=e.selection[1]&&(i=s.length),s+o):s},""),o=v(t,a,"",n);return{value:h(a+o,t)?a+o:a,selection:[null!=r?r:a.length,null!=i?i:a.length]}}(e,t,n):function(e,t){var n=e.value,r=a(e.selection,2),i=r[0],o=r[1],u=i,s=o;return{value:Array.from(n).reduce(function(e,n,r){var a=e+n;return i===r&&(u=e.length),o===r&&(s=e.length),a.match(t)?a:e},""),selection:[u,s]}}(e,t),i=r.value,o=r.selection;return{selection:o,value:Array.isArray(t)?i.slice(0,t.length):i}}function d(e,t){if(!Array.isArray(t))return e;var n=a(e.selection,2),r=n[0],o=n[1],u=[],s=Array.from(e.value).reduce(function(e,n,i){var a=t[i];return i===r&&u.push(e.length),i===o&&u.push(e.length),f(a)&&a===n?e:e+n},"");return u.length<2&&u.push.apply(u,i(Array(2-u.length).fill(s.length))),{value:s,selection:[u[0],u[1]]}}var y=function(){function e(t,n){c(this,e),this.initialElementState=t,this.maskOptions=n,this.value="",this.selection=[0,0];var r=p(t,this.getMaskExpression(t)),i=r.value,a=r.selection;this.value=i,this.selection=a}return l(e,[{key:"addCharacters",value:function(e,t){var n=a(e,2),r=n[0],i=n[1],o=this.value,u=this.getMaskExpression({value:o.slice(0,r)+t+o.slice(i),selection:[r+t.length,r+t.length]}),s={value:o,selection:[r,i]},l=d(s,u),c=a(function(e,t,n){var r=e.value,i=e.selection,o=a(i,2),u=o[0],s=o[1];return{value:r,selection:"replace"===("function"==typeof n?n({value:r,selection:i}):n)?[u,u+t.length]:[u,s]}}(l,t,this.maskOptions.overwriteMode).selection,2),f=c[0],v=c[1],h=l.value.slice(0,f)+t,y=h.length,m=p({value:h+l.value.slice(v),selection:[y,y]},u,s);if(o.slice(0,f)===p({value:h,selection:[y,y]},u,s).value||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.every(function(t){var n=t.value,r=t.selection;return n===e.value&&r[0]===e.selection[0]&&r[1]===e.selection[1]})}(this,m))throw new Error("Invalid mask value");this.value=m.value,this.selection=m.selection}},{key:"deleteCharacters",value:function(e){var t=a(e,2),n=t[0],r=t[1];if(n!==r&&r){var i=this.value,o=this.getMaskExpression({value:i.slice(0,n)+i.slice(r),selection:[n,n]}),u={value:i,selection:[n,r]},s=d(u,o),l=a(s.selection,2),c=l[0],f=l[1],v=p({value:s.value.slice(0,c)+s.value.slice(f),selection:[c,c]},o,u);this.value=v.value,this.selection=v.selection}}},{key:"getMaskExpression",value:function(e){var t=this.maskOptions.mask;return"function"==typeof t?t(e):t}}]),e}(),m=function(){function e(t){c(this,e),this.element=t,this.listeners=[]}return l(e,[{key:"listen",value:function(e,t,n){var r=this,i=t;this.element.addEventListener(e,i,n),this.listeners.push(function(){return r.element.removeEventListener(e,i)})}},{key:"destroy",value:function(){this.listeners.forEach(function(e){return e()})}}]),e}();function g(e,t){var n=e.value,r=a(e.selection,2),i=r[0],o=r[1];if(i!==o)return[i,o];var u=t?n.slice(i).indexOf("\n")+1||n.length:n.slice(0,o).lastIndexOf("\n")+1;return[t?i:u,t?u:o]}function w(e,t){var n=e.value,r=a(e.selection,2),i=r[0],o=r[1];return i!==o?[i,o]:(t?[i,o+1]:[i-1,o]).map(function(e){return Math.min(Math.max(e,0),n.length)})}var k=/\s+$/g,b=/^\s+/g,E=/\s/;function S(e,t){var n=e.value,r=a(e.selection,2),i=r[0],o=r[1];if(i!==o)return[i,o];if(t){var u=n.slice(i),s=a(u.match(b)||[""],1)[0],l=u.replace(b,"").search(E);return[i,-1!==l?i+s.length+l:n.length]}var c=n.slice(0,o),f=a(c.match(k)||[""],1)[0],v=c.replace(k,"").split("").reverse().findIndex(function(e){return e.match(E)});return[-1!==v?o-f.length-v:0,o]}function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.reduce(function(e,t){return Object.assign(Object.assign({},e),t.apply(void 0,[e].concat(r)))},e)}}function O(e,t){var n=Object.assign(Object.assign({},s),t),r="string"==typeof e?{value:e,selection:[0,0]}:e,i=n.preprocessor({elementState:r,data:""},"validation").elementState,a=new y(i,n),o=n.postprocessor(a,r),u=o.value,l=o.selection;return"string"==typeof e?u:{value:u,selection:l}}var A=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&e(t,n)}(i,n);var r=t(i);function i(e,t){var n;return c(this,i),(n=r.call(this)).element=e,n.maskitoOptions=t,n.eventListener=new m(n.element),n.options=Object.assign(Object.assign({},s),n.maskitoOptions),n.ensureValueFitsMask(),n.updateHistory(n.elementState),n.eventListener.listen("keydown",function(e){var t=e.ctrlKey,r=e.key,i=e.metaKey,a=e.shiftKey;return i&&a&&"z"===r||t&&"y"===r?(e.preventDefault(),n.redo()):(t||i)&&"z"===r?(e.preventDefault(),n.undo()):void 0}),"onbeforeinput"in e?n.eventListener.listen("beforeinput",function(e){var t=e.inputType.includes("Forward");switch(n.updateHistory(n.elementState),e.inputType){case"historyUndo":return e.preventDefault(),n.undo();case"historyRedo":return e.preventDefault(),n.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return n.handleDelete({event:e,isForward:t,selection:w(n.elementState,t)});case"deleteWordForward":case"deleteWordBackward":return n.handleDelete({event:e,isForward:t,selection:S(n.elementState,t),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return n.handleDelete({event:e,isForward:t,selection:g(n.elementState,t),force:!0});case"insertFromDrop":return;case"insertLineBreak":return n.handleEnter(e);case"insertFromPaste":case"insertText":default:return n.handleInsert(e,e.data||"")}}):(n.eventListener.listen("keydown",function(e){return n.handleKeydown(e)}),n.eventListener.listen("paste",function(e){var t;return n.handleInsert(e,(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain"))||"")})),n.eventListener.listen("input",function(){n.ensureValueFitsMask(),n.updateHistory(n.elementState)}),n}return l(i,[{key:"elementState",get:function(){var e=this.element;return{value:e.value,selection:[e.selectionStart||0,e.selectionEnd||0]}}},{key:"isTextArea",get:function(){return"TEXTAREA"===this.element.nodeName}},{key:"destroy",value:function(){this.eventListener.destroy()}},{key:"updateElementState",value:function(e){var t=e.value,n=e.selection,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inputType:"insertText",data:null},i=this.elementState.value;this.updateValue(t),this.updateSelectionRange(n),i!==t&&this.dispatchInputEvent(r)}},{key:"handleKeydown",value:function(e){var t=e.key,n="Delete"===t;switch(t){case"Backspace":case"Delete":return this.handleDelete({event:e,isForward:n,selection:w(this.elementState,n)});case"Enter":return this.handleEnter(e)}!function(e){var t=e.key,n=e.ctrlKey,r=e.metaKey,i=e.altKey,a=n||r||i,o=/^(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])$/.test(t);return!a&&"Backspace"!==t&&o}(e)||this.handleInsert(e,t)}},{key:"ensureValueFitsMask",value:function(){this.updateElementState(O(this.elementState,this.options))}},{key:"handleDelete",value:function(e){var t=e.event,n=e.selection,r=e.isForward,i=e.force,o=void 0!==i&&i,u={value:this.elementState.value,selection:n},s=a(u.selection,2),l=s[0],c=s[1],f=this.options.preprocessor({elementState:u,data:""},r?"deleteForward":"deleteBackward").elementState,v=new y(f,this.options),h=a(f.selection,2),p=h[0],d=h[1];v.deleteCharacters([p,d]);var m=this.options.postprocessor(v,u);if(u.value.slice(0,l)+u.value.slice(c)!==m.value||o)return t.preventDefault(),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.every(function(t){return t.value===e.value})}(u,f,v,m)?this.updateSelectionRange(r?[d,d]:[p,p]):(this.updateElementState(m,{inputType:"inputType"in t?t.inputType:r?"deleteContentForward":"deleteContentBackward",data:null}),void this.updateHistory(m))}},{key:"handleInsert",value:function(e,t){var n=this.elementState,r=this.options.preprocessor({data:t,elementState:n},"insert"),i=r.elementState,o=r.data,u=void 0===o?t:o,s=new y(i,this.options);try{s.addCharacters(i.selection,u)}catch(p){return e.preventDefault()}var l=a(i.selection,2),c=l[0],f=l[1],v=i.value.slice(0,c)+t+i.value.slice(f),h=this.options.postprocessor(s,n);v!==h.value&&(e.preventDefault(),this.updateElementState(h,{data:t,inputType:"inputType"in e?e.inputType:"insertText"}),this.updateHistory(h))}},{key:"handleEnter",value:function(e){this.isTextArea&&this.handleInsert(e,"\n")}},{key:"updateSelectionRange",value:function(e){var t,n,r=a(e,2),i=r[0],o=r[1];(this.element.selectionStart!==i||this.element.selectionEnd!==o)&&(null===(n=(t=this.element).setSelectionRange)||void 0===n||n.call(t,i,o))}},{key:"updateValue",value:function(e){this.element.value!==e&&(this.element.value=e)}},{key:"dispatchInputEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inputType:"insertText",data:null},t="undefined"!=typeof window?window:globalThis;(null==t?void 0:t.InputEvent)&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}}]),i}(function(){function e(){c(this,e),this.now=null,this.past=[],this.future=[]}return l(e,[{key:"undo",value:function(){var e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}},{key:"redo",value:function(){var e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}},{key:"updateHistory",value:function(e){if(this.now){var t=this.now.value!==e.value,n=this.now.selection.some(function(t,n){return t!==e.selection[n]});!t&&!n||(t&&(this.past.push(this.now),this.future=[]),this.now=e)}else this.now=e}},{key:"updateElement",value:function(e,t){this.now=e,this.updateElementState(e,{inputType:t,data:null})}}]),e}())}}])}();