"use strict";(self.webpackChunkmaskito=self.webpackChunkmaskito||[]).push([[362],{2362:(De,Z,y)=>{y.d(Z,{tr:()=>Y,n9:()=>K,f8:()=>ie,rC:()=>de});var v=y(3533);const L=new Date("0001-01-01"),R=new Date("9999-12-31");function T(e,n,t){const s=Math.min(Number(t),Math.max(Number(n),Number(e)));return e instanceof Date?new Date(s):s}function j(e,{day:n,month:t,year:s}={}){const r=new Date(e);return n&&r.setDate(r.getDate()+n),t&&r.setMonth(r.getMonth()+t),s&&r.setFullYear(r.getFullYear()+s),r}function k(e){return{day:String(e.getDate()).padStart(2,"0"),month:String(e.getMonth()+1).padStart(2,"0"),year:String(e.getFullYear()).padStart(4,"0")}}function x(e,n){return!(e.length<n.length)&&e.split(/\D/).every(t=>!t.match(/^0+$/))}function _(e){return e.reduce((n,[t,s])=>Object.assign(Object.assign({},n),{[t]:s}),{})}function S(e,n){const t=n.replace(/[^dmy]/g,""),s=e.replace(/\D+/g,""),r=t.indexOf("d"),o=t.indexOf("m"),i=t.indexOf("y"),c={day:s.slice(r,r+2),month:s.slice(o,o+2),year:s.slice(i,t.lastIndexOf("y")+1)};return _(Object.entries(c).filter(([l,a])=>Boolean(a)).sort(([l],[a])=>n.toLowerCase().indexOf(l[0])>n.toLowerCase().indexOf(a[0])?1:-1))}function M(e){var n,t,s;const r=2===(null===(n=e.year)||void 0===n?void 0:n.length)?`20${e.year}`:e.year;return new Date(Number(null!=r?r:"0"),Number(null!==(t=e.month)&&void 0!==t?t:"1")-1,Number(null!==(s=e.day)&&void 0!==s?s:"1"))}function b({day:e,month:n,year:t},s){var r;const o=2===(null===(r=s.match(/y/g))||void 0===r?void 0:r.length)?null==t?void 0:t.slice(-2):t;return s.replace(/d+/g,null!=e?e:"").replace(/m+/g,null!=n?n:"").replace(/y+/g,null!=o?o:"").replace(/^\D+/g,"").replace(/\D+$/g,"")}function E(e,n,t=0){return Number(e.padEnd(n.length,"0"))<=Number(n)?{validatedSegmentValue:e,prefixedZeroesCount:t}:e.endsWith("0")?E(`0${e.slice(0,n.length-1)}`,n,t+1):E(`${e.slice(0,n.length-1)}0`,n,t)}const U=e=>{var n,t,s;return{day:(null===(n=e.match("/d/g"))||void 0===n?void 0:n.length)||2,month:(null===(t=e.match("/m/g"))||void 0===t?void 0:t.length)||2,year:(null===(s=e.match("/y/g"))||void 0===s?void 0:s.length)||4}},W={day:31,month:12,year:9999};function H({dateString:e,dateModeTemplate:n,offset:t,selection:[s,r]}){const o=S(e,n),i=Object.entries(o),c={};for(const[l,a]of i){const g=b(c,n),d=W[l],u=t+g.length+(g.length&&1)+U(e)[l];if(u>=s&&u<=r&&Number(a)>Number(d))return{validatedDateString:"",updatedSelection:[s,r]};const{validatedSegmentValue:D,prefixedZeroesCount:p}=E(a,`${d}`);r+=p,c[l]=D}return{validatedDateString:b(c,n),updatedSelection:[s,r]}}function O(e){return!e||"object"==typeof e&&0===Object.keys(e).length}function N(e,n){return e.match(new RegExp(`.{1,${n}}`,"g"))||[]}function C({dateModeTemplate:e,min:n=L,max:t=R,datesSeparator:s=""}){return({value:r,selection:o})=>{const i=N(r.replace(s,""),e.length);let c="";for(const l of i)c+=c?s:"",x(l,e)?c+=b(k(T(M(S(l,e)),n,t)),e):c+=l;return{selection:o,value:c}}}function I({dateModeTemplate:e,dateSegmentsSeparator:n,datesSeparator:t=""}){return({elementState:s,data:r})=>{const o=r.replace(/\D+/g,"");if(!o)return{elementState:s,data:""};const{value:i,selection:c}=s,[l,a]=c;let g=a+r.length;const d=i.slice(0,l)+o+i.slice(g),f=N(d.replace(t,""),e.length);let u="";const m=Boolean(t)&&d.includes(t);for(const p of f){const{validatedDateString:h,updatedSelection:$}=H({dateString:p,dateModeTemplate:e,offset:u?u.length+t.length:0,selection:[l,g]});if(p&&!h)return{elementState:s,data:""};g=$[1]+h.length-p.length,u+=m&&u?t+h:h}const D=u.slice(l,g);return{elementState:{selection:c,value:u.slice(0,l)+D.split(n).map(p=>"0".repeat(p.length)).join(n)+u.slice(g)},data:D.replace(new RegExp(`\\${n}`,"g"),"")}}}function Y({mode:e,separator:n=".",max:t,min:s}){const r=e.split("/").join(n);return{mask:Array.from(r).map(o=>o===n?o:/\d/),overwriteMode:"replace",preprocessor:(0,v.Zu)(({elementState:e},n)=>{const{value:t,selection:s}=e;if(!t||function(e,[n,t]){return t===e.length}(t,s))return{elementState:e};const[r,o]=s,i=t.slice(r,o).replace(/\d/g,"0"),c=t.slice(0,r)+i+t.slice(o);return"validation"===n||"insert"===n&&r===o?{elementState:{selection:s,value:c}}:{elementState:{selection:"deleteBackward"===n||"insert"===n?[r,r]:[o,o],value:c}}},I({dateModeTemplate:r,dateSegmentsSeparator:n})),postprocessor:C({min:s,max:t,dateModeTemplate:r})}}function z({dateModeTemplate:e,datesSeparator:n,minLength:t,maxLength:s,max:r=R}){return O(t)&&O(s)?o=>o:({value:o,selection:i})=>{const c=N(o.replace(n,""),e.length);if(2!==c.length||c.some(m=>!x(m,e)))return{value:o,selection:i};const[l,a]=c.map(m=>M(S(m,e))),g=j(l,Object.assign(Object.assign({},t),{day:(null==t?void 0:t.day)&&t.day-1})),d=O(s)?r:j(l,Object.assign(Object.assign({},s),{day:(null==s?void 0:s.day)&&s.day-1})),f=T(a,g,r);return{selection:i,value:c[0]+n+b(k(f>d?d:f),e)}}}const w="\xa0\u2013\xa0";function K({mode:e,separator:n=".",min:t,max:s,minLength:r,maxLength:o}){const i=e.split("/").join(n),c=Array.from(i).map(l=>l===n?l:/\d/);return{mask:[...c,...w,...c],overwriteMode:"replace",preprocessor:(0,v.Zu)(({elementState:e},n)=>{const{value:t,selection:s}=e;if(!t||function(e,[n,t]){return t===e.length}(t,s))return{elementState:e};const[r,o]=s,i=t.slice(r,o).replace(/\d/g,"0"),c=t.slice(0,r)+i+t.slice(o);return"validation"===n||"insert"===n&&r===o?{elementState:{selection:s,value:c}}:{elementState:{selection:"deleteBackward"===n||"insert"===n?[r,r]:[o,o],value:c}}},I({dateModeTemplate:i,dateSegmentsSeparator:n,datesSeparator:w})),postprocessor:(0,v.Zu)(C({min:t,max:s,dateModeTemplate:i,datesSeparator:w}),z({dateModeTemplate:i,minLength:r,maxLength:o,max:s,datesSeparator:w}))}}function J(e,n){const t=new RegExp(`[${n.join("")}]`,"gi");return({elementState:s,data:r})=>{const{value:o,selection:i}=s;return{elementState:{selection:i,value:o.replace(t,e)},data:r.replace(t,e)}}}function Q({decimalSeparator:e,precision:n}){return({elementState:t,data:s})=>{const{value:r,selection:o}=t,[i]=o;return n<=0||r.includes(e)||!s.startsWith(e)?{elementState:t,data:s}:{elementState:t,data:r.slice(0,i)?s:`0${s}`}}}function q({decimalSeparator:e,thousandSeparator:n,decimalZeroPadding:t}){return({elementState:s,data:r},o)=>{const{value:i,selection:c}=s,[l,a]=c,g=i.slice(l,a);return"deleteBackward"!==o&&"deleteForward"!==o||!(t?[e,n]:[n]).includes(g)?{elementState:s,data:r}:{elementState:{value:i,selection:"deleteForward"===o?[a,a]:[l,l]},data:r}}}function ee(e){return({value:n,selection:t})=>{const[s,r]=t,o=n.includes(e),[i,c=""]=n.split(e),l=i.replace(/^0+/,"0"),a=l.length>1&&l.startsWith("0")?l.slice(1):l,g=i.length-a.length;return{value:a+(o?e:"")+c,selection:[Math.max(s-g,0),Math.max(r-g,0)]}}}function te({max:e,thousandSeparator:n,decimalSeparator:t}){return({value:s,selection:r})=>{if(Number(s.replace(new RegExp(n,"g"),"").replace(t,"."))>e){const i=`${e}`.replace(".",t);return{value:i,selection:[i.length,i.length]}}return{value:s,selection:r}}}function ne({thousandSeparator:e,decimalSeparator:n}){return({value:t,selection:s})=>{const[r,o=""]=t.split(n),[i,c]=s;let[l,a]=s;const g=Array.from(r.replace(/^-/,"")).reduceRight((d,f,u)=>{const m=d.length&&(d.length+1)%4==0;return f===e&&m?f+d:f!==e||m?m?(u<=i&&l++,u<=c&&a++,f+e+d):f+d:(u<=i&&l--,u<=c&&a--,d)},"");return{value:(t.startsWith("-")?"-":"")+g+(t.includes(n)?n:"")+o,selection:[l,a]}}}function se({decimalSeparator:e,precision:n,decimalZeroPadding:t}){return n<=0||!t?s=>s:({value:s,selection:r})=>{const[o,i=""]=s.split(e);return s.includes(e)||o?{value:o+e+i.padEnd(n,"0"),selection:r}:{value:s,selection:r}}}function re({decimalSeparator:e,thousandSeparator:n}){return","===e||"."===e?[".",",","\u0431","\u044e"].filter(t=>t!==n&&t!==e):[]}function oe({decimalSeparator:e,isNegativeAllowed:n,precision:t,thousandSeparator:s}){const o=n?"-?":"",i=`[\\d\\${s}]*`;return t>0?new RegExp(`^${o}${i}(\\${e}\\d{0,${t}})?$`):new RegExp(`^${o}${i}$`)}function ie({max:e=Number.MAX_SAFE_INTEGER,isNegativeAllowed:n=!0,precision:t=0,thousandSeparator:s="\xa0",decimalSeparator:r=",",decimalPseudoSeparators:o=re({decimalSeparator:r,thousandSeparator:s}),decimalZeroPadding:i=!1}={}){return{mask:oe({decimalSeparator:r,precision:t,thousandSeparator:s,isNegativeAllowed:n}),preprocessor:(0,v.Zu)(J(r,o),Q({decimalSeparator:r,precision:t}),q({decimalSeparator:r,decimalZeroPadding:i,thousandSeparator:s})),postprocessor:(0,v.Zu)(ee(r),te({decimalSeparator:r,max:e,thousandSeparator:s}),ne({decimalSeparator:r,thousandSeparator:s}),se({decimalSeparator:r,decimalZeroPadding:i,precision:t})),overwriteMode:i?({value:c,selection:[l]})=>l<=c.indexOf(r)?"shift":"replace":"shift"}}const ce={hours:23,minutes:59,seconds:59,milliseconds:999},le=[":","."],F={hours:2,minutes:2,seconds:2,milliseconds:3};function V({hours:e="",minutes:n="",seconds:t="",milliseconds:s=""}){return`${e}${n&&`:${n}`}${t&&`:${t}`}${s&&`.${s}`}`}function ge(e){const n=function(e){return _(Object.entries(e).map(([n,t])=>[n,`${t}`.padEnd(F[n],"0")]))}(e);return({elementState:t,data:s})=>{const r=s.replace(/\D+/g,"");if(!r)return{elementState:t,data:""};const{value:o,selection:i}=t,[c,l]=i;let a=l+r.length;const g=o.slice(0,c)+r+o.slice(a),d=Object.entries(function(e){const n=e.replace(/\D+/g,""),t={hours:n.slice(0,2),minutes:n.slice(2,4),seconds:n.slice(4,6),milliseconds:n.slice(6,9)};return _(Object.entries(t).filter(([s,r])=>Boolean(r)))}(g)),f={};for(const[D,p]of d){const h=V(f),$=n[D],G=h.length+(h.length&&1)+F[D];if(G>=c&&G<=a&&Number(p)>Number($))return{elementState:t,data:""};const{validatedSegmentValue:me,prefixedZeroesCount:pe}=E(p,$);a+=pe,f[D]=me}const u=V(f);a=u.length-o.slice(a).length;const m=u.slice(c,a);return{elementState:{selection:i,value:u.slice(0,c)+"0".repeat(m.length)+u.slice(a)},data:m}}}function de({mode:e,timeSegmentMaxValues:n={}}){const t=Object.assign(Object.assign({},ce),n);return{mask:Array.from(e).map(s=>le.includes(s)?s:/\d/),preprocessor:(0,v.Zu)(({elementState:e},n)=>{const{value:t,selection:s}=e;if(!t||function(e,[n,t]){return t===e.length}(t,s))return{elementState:e};const[r,o]=s,i=t.slice(r,o).replace(/\d/g,"0"),c=t.slice(0,r)+i+t.slice(o);return"validation"===n||"insert"===n&&r===o?{elementState:{selection:s,value:c}}:{elementState:{selection:"deleteBackward"===n||"insert"===n?[r,r]:[o,o],value:c}}},ge(t)),overwriteMode:"replace"}}}}]);